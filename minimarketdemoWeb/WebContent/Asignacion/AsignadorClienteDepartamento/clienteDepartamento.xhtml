<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head></h:head> 
<body>
	
	<p:growl>
		<p:autoUpdate />
	</p:growl>	
	<h:form>
				<p:menubar>
				<p:menuitem value="Regresar" icon="pi pi-home" action="/menu?faces-redirect=true" />
				</p:menubar>
				
				<br></br>
					<h3>Asignar Clentes a un Deparatamento</h3>
				<br></br>
				
				<h:outputText value="Seleccione el Departameto:"  style="margin-right: 25px;"/>
				<p:selectOneMenu value="#{beanDcD.id_Dep}">
					<f:selectItems value="#{beanDcD.listaDepartamentos}" var="d"
						itemLabel="#{d.depId}" itemValue="#{d.depId}"></f:selectItems>
				</p:selectOneMenu >
				<h:outputText value="Seleccionar Cliente:" style="margin-right: 25px;margin-left:25px;"/>
				<p:selectOneMenu value="#{beanDcD.id_Cliente}">
					<f:selectItems value="#{beanDcD.listaClientes}" var="c"
						itemLabel="Id: #{c.idSegUsuario} - #{c.codigo} - #{c.nombres} #{c.apellidos}" itemValue="#{c.idSegUsuario}"></f:selectItems>
				</p:selectOneMenu>
				<h:outputText value="Observaciones:" style="margin-right: 25px;margin-left:25px;"/>
				<p:inputText value="#{beanDcD.obs}" height="100" style="margin-right: 25px;"></p:inputText>
				<p:commandButton value="Agregar" update="@form"
					actionListener="#{beanDcD.actionListenerAgregarDTO()}" />
					
				<br></br>
				<br></br>
				<p:dataTable value="#{beanDcD.listadto}"
				var="d">
				<p:column headerText="ID">
					<h:outputText value="#{d.id}" />
				</p:column>
				<p:column headerText="CEDULA">
					<h:outputText value="#{d.codigo}" />
				</p:column>
				<p:column headerText="APELLIDOS">
					<h:outputText value="#{d.apellidos}" />
				</p:column>
				<p:column headerText="NOMBRES">
					<h:outputText value="#{d.nombres}" />
				</p:column>
				<p:column headerText="Opciones">
					<p:commandButton value="Eliminar"  update="@form"
						actionListener="#{beanDcD.eliminar(d.id)}" />
				</p:column>
				</p:dataTable>
				
				<br></br>
				<br></br>
				
				<p:commandButton value="Guardar" icon="pi pi-save" update="@form" 
				actionListener="#{beanDcD.actionListenerGuardar()}"></p:commandButton>
				
				<br></br>
				<br></br>
				
				<p:dataTable value="#{beanDcD.registro}" var="reg" paginator="true" rows="5">
					<p:column headerText="Id departamento">
						<h:outputText value="#{reg.depDepartamento.depId}" />
					</p:column>
					<p:column headerText="id del usuario">
						<h:outputText value="#{reg.idSegUsuario}" />
					</p:column>
				</p:dataTable>
			
	</h:form>
	
</body> 
</html>
